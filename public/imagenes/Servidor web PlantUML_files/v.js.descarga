(()=>{"use strict";class e{constructor(){}fireEvent(e,t,i){var n;if("createEvent"in document){if((n=document.createEvent("HTMLEvents")).view=window,"object"==typeof i)for(const[e,t]of Object.entries(i))n[e]=t;n.initEvent(t,!1,!0),e.dispatchEvent(n)}else{if((n=document.createEventObject()).eventType=t,"object"==typeof i)for(const[e,t]of Object.entries(i))n[e]=t;e.fireEvent("on"+n.eventType,n)}}}const t="is";class i{constructor(t){t=t||{};this.config=this.setFromConfig({enabled:!0,useVignetteLoader:!1,fireEventName:"ezCMPImpression",impressionSource:"cmp",loaderElementId:"ez-cookie-loader-wrapper",urlAddition:"utm_content=cmp-true",disableFloor:!1},t),this.eventFirer=new e}_urlUpdater(e){return-1==e.indexOf("?")?e+="?"+this.config.urlAddition:e+="&"+this.config.urlAddition,e}setFromConfig(e,t){var i={};return Object.entries(e).forEach((e=>{let[n,s]=e;i[n]=n in t?t[n]:s})),i}fireImpEvent(e,t,i){var n={slot:e,key:t,value:i};this.eventFirer.fireEvent(document.body,this.config.fireEventName,n)}_setDisplayLoader(e){if(!1!==this.config.useVignetteLoader){var t=document.getElementById(this.config.loaderElementId);t&&(t.style.display=1==e?"":"none")}}handleClick(){if(0==this.config.enabled)return!1;if(""!=this._getCookie("ezvignetteviewed"))return!1;var e=window.location.href;if("undefined"==typeof googletag||"undefined"==typeof ezslot_interstitial||null==ezslot_interstitial||-1!=e.indexOf(this.config.urlAddition))return!1;e=this._urlUpdater(e);var i=document.createElement("a");i.id="ez-accept-all-a",i.href=e,document.body.append(i);var n=null,s=function(){null!==n&&(clearTimeout(n),n=null)},r=function(e){s(),0==this._isSlotEmpty(e)&&(this.fireImpEvent(e,"impression_source",this.config.impressionSource),i.click())}.bind(this),o=function(e){},l=r,a=function(e){e.getTargeting(t)===this.config.impressionSource&&(this._getSlotKeyValueAsInt(e,"br1")<c&&(s(),this._setDisplayLoader(!1),this._clearImpressionSourceTargeting(e),l=o))}.bind(this),c=0;return 0==this.config.disableFloor&&(c=this._getSlotKeyValueAsInt(ezslot_interstitial,"br2")),googletag.pubads().addEventListener("slotResponseReceived",(function(e){if("undefined"!=typeof ezslot_interstitial&&null!=ezslot_interstitial){var t=e.slot;t===ezslot_interstitial&&a(t)}})),googletag.pubads().addEventListener("slotOnload",function(e){if("undefined"!=typeof ezslot_interstitial&&null!=ezslot_interstitial){var t=e.slot;t===ezslot_interstitial&&(s(),this._setDisplayLoader(!1),l(t),l=o)}}.bind(this)),n=setTimeout(function(){this._setDisplayLoader(!1),this._clearImpressionSourceTargeting(ezslot_interstitial),l=o}.bind(this),8e3),this._setImpressionSourceTargeting(ezslot_interstitial),!1===this._isSlotEmpty(ezslot_interstitial)?(s(),a(ezslot_interstitial),l(ezslot_interstitial),l=o):this._isFilling(ezslot_interstitial)?this._setDisplayLoader(!0):(s(),this._setDisplayLoader(!1),this._clearImpressionSourceTargeting(ezslot_interstitial),l=o),!0}_setImpressionSourceTargeting(e){e.setTargeting(t,this.config.impressionSource)}_clearImpressionSourceTargeting(e){e.clearTargeting(t)}_isFilling(e){return this._getSlotKeyValueAsInt(e,"ic")<10}_isSlotEmpty(e){var t=e.getResponseInformation();return null==t||(null===t.sourceAgnosticCreativeId||null===t.sourceAgnosticLineItemId)}_getSlotKeyValueAsInt(e,t){var i=e.getTargeting(t);return Array.isArray(i)&&i.length>0?parseInt(i[0],10):-1}_getCookie(e){let t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let n=i[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}}void 0===window.newEzVignette&&(window.newEzVignette=function(e){return new i(e)})})();